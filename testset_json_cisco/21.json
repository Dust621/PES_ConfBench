{
  "topology": "三个自治系统，菱形拓扑。AS 100-DeviceA（1.1.1.1）位于顶部，通过10.1.1.0/24连接AS 300的DeviceB（10.1.1.2/24），通过10.1.2.0/24连接AS 300的DeviceC（10.1.2.2/24）。AS 200-DeviceD（4.4.4.4）位于底部，发布业务网段172.16.1.0/24，通过10.1.3.0/24连接DeviceB（10.1.3.2/24），通过10.1.4.0/24连接DeviceC（10.1.4.2/24）。",
  "requirement": "配置BGP负载分担实现流量均衡。DeviceA分别与同一AS 300内的DeviceB和DeviceC建立eBGP邻居。DeviceD分别与DeviceB和DeviceC建立eBGP邻居，并通过network命令发布172.16.1.0/24网段。DeviceA配置负载分担功能，当DeviceA访问172.16.1.0/24时，流量可通过DeviceB和DeviceC两条等价路径到达，实现负载均衡，充分利用网络资源。",
  "verification": "验证所有eBGP会话为Established状态；验证DeviceA学到172.16.1.0/24路由；验证DeviceB和DeviceC都学到172.16.1.0/24路由；验证DeviceA可达172.16.1.0/24网段；验证双路径可达性。",
  "verification_tasks": [
    { "type": "bgp_session_between", "a_node": "DeviceA", "b_node": "DeviceB", "expect": "ESTABLISHED", "description": "DeviceA(AS 100)与DeviceB(AS 300)的eBGP邻居" },
    { "type": "bgp_session_between", "a_node": "DeviceA", "b_node": "DeviceC", "expect": "ESTABLISHED", "description": "DeviceA(AS 100)与DeviceC(AS 300)的eBGP邻居" },
    { "type": "bgp_session_between", "a_node": "DeviceB", "b_node": "DeviceD", "expect": "ESTABLISHED", "description": "DeviceB(AS 300)与DeviceD(AS 200)的eBGP邻居" },
    { "type": "bgp_session_between", "a_node": "DeviceC", "b_node": "DeviceD", "expect": "ESTABLISHED", "description": "DeviceC(AS 300)与DeviceD(AS 200)的eBGP邻居" },
    { "type": "bgp_rib_contains", "node": "DeviceA", "prefix": "172.16.1.0/24", "description": "DeviceA应学到DeviceD的路由" },
    { "type": "bgp_rib_contains", "node": "DeviceB", "prefix": "172.16.1.0/24", "description": "DeviceB应学到DeviceD的路由" },
    { "type": "bgp_rib_contains", "node": "DeviceC", "prefix": "172.16.1.0/24", "description": "DeviceC应学到DeviceD的路由" },
    { "type": "reachability", "src_node": "DeviceA", "dst_ip": "172.16.1.1", "description": "DeviceA可达DeviceD的业务网段" }
  ]
}
