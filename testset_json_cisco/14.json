{
  "topology": "三个自治系统线性连接：AS 65010-DeviceA、AS 65020-DeviceB、AS 65030-DeviceC。DeviceA（10.1.2.1/24）与DeviceB（10.1.2.2/24）通过eBGP互联，DeviceB（10.1.3.1/24）与DeviceC（10.1.3.2/24）通过eBGP互联。DeviceA有本地网络10.1.4.1/24，DeviceC有本地网络10.1.4.2/24。",
  "requirement": "配置AS_Path过滤器实现AS间路由隔离。DeviceA与DeviceB、DeviceB与DeviceC分别建立eBGP邻居，所有设备通过import-route direct引入直连路由到BGP。DeviceB配置AS_Path过滤器：向DeviceA发送路由时拒绝包含AS 65030的路由（as-path-filter deny _65030_），向DeviceC发送路由时拒绝包含AS 65010的路由（as-path-filter deny _65010_），实现AS 65010和AS 65030之间的双向路由隔离。",
  "verification": "验证所有eBGP会话为Established状态；验证DeviceA只接收来自AS 65020的路由，不应学到AS 65030的路由；验证DeviceC只接收来自AS 65020的路由，不应学到AS 65010的路由；验证DeviceB可达两端所有网段。",
  "verification_tasks": [
    { "type": "bgp_session_between", "a_node": "DeviceA", "b_node": "DeviceB", "expect": "ESTABLISHED", "description": "DeviceA(AS 65010)与DeviceB(AS 65020)的eBGP邻居" },
    { "type": "bgp_session_between", "a_node": "DeviceB", "b_node": "DeviceC", "expect": "ESTABLISHED", "description": "DeviceB(AS 65020)与DeviceC(AS 65030)的eBGP邻居" },
    { "type": "bgp_rib_contains", "node": "DeviceB", "prefix": "10.1.4.0/24", "description": "DeviceB应学到两端的10.1.4.0/24路由" },
    { "type": "bgp_received_only", "node": "DeviceA", "allowed_prefixes": ["10.1.2.0/24", "10.1.3.0/24"], "description": "DeviceA只应接收AS 65020的路由，不应有AS 65030的路由" },
    { "type": "bgp_received_only", "node": "DeviceC", "allowed_prefixes": ["10.1.2.0/24", "10.1.3.0/24"], "description": "DeviceC只应接收AS 65020的路由，不应有AS 65010的路由" },
    { "type": "reachability", "src_node": "DeviceB", "dst_ip": "10.1.4.1", "description": "DeviceB可达DeviceA的本地网络" }
  ]
}
