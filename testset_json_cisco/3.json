{
  "topology": "四台路由器 R1、R2 在 AS400，R3、R4 在 AS500。R2 与 R3 通过 10.10.10.0/30 链接。R1 内部网络 10.100.1.0/24，R4 内部网络 10.200.4.0/24，其它设备作为中继。",
  "requirement": "R2（AS400）与 R3（AS500）建立 eBGP 邻居；AS400 内部 R1 与 R2 使用 OSPF area 0 广播；AS500 内部 R3 与 R4 使用 OSPF area 0。要求 R1 和 R4 之间实现双向可达性。",
  "verification": "show ip bgp summary 在 R2 和 R3 上显示 Established；在 R1 上 ping 10.200.4.1，可达；在 R4 上 ping 10.100.1.1，可达。",
  "verification_tasks": [
  { "type": "ospf_neighbor_count", "node": "R1", "expect": 1, "description": "AS400 内 R1 至少有 1 个 OSPF 邻居（与 R2）" },
  { "type": "ospf_neighbor_count", "node": "R2", "expect": 1, "description": "AS400 内 R2 至少有 1 个 OSPF 邻居（与 R1）" },
  { "type": "ospf_neighbor_count", "node": "R3", "expect": 1, "description": "AS500 内 R3 至少有 1 个 OSPF 邻居（与 R4）" },
  { "type": "ospf_neighbor_count", "node": "R4", "expect": 1, "description": "AS500 内 R4 至少有 1 个 OSPF 邻居（与 R3）" },
  { "type": "bgp_session_between", "a_node": "R2", "b_node": "R3", "expect": "ESTABLISHED", "description": "R2↔R3 eBGP 建立" },
  { "type": "route_exists", "node": "R4", "network": "10.100.1.0/24", "description": "R4 端路由表包含 AS400 的内网前缀（可由 OSPF 学到）" },
  { "type": "route_exists", "node": "R1", "network": "10.200.4.0/24", "description": "R1 端路由表包含 AS500 的内网前缀（可由 OSPF 学到）" },
  { "type": "reachability", "src_node": "R1", "dst_ip": "10.200.4.1", "description": "R1 可达 R4 主机" },
  { "type": "reachability", "src_node": "R4", "dst_ip": "10.100.1.1", "description": "R4 可达 R1 主机" }
]
}